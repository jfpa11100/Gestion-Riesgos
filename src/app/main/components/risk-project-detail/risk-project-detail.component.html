<section class="flex justify-between w-full md:w-8/10 h-15 gap-x-2 sm:h-10 px-3 md:px-5 xl:px-10 py-3
border border-secondary-blue rounded bg-gradient-to-r from-gray-background to-secondary-blue">
  <div class="flex items-center text-sm">
    <h1>{{ risk.category }} | {{ risk.risk }}</h1>
  </div>
  <nav class="flex items-center gap-x-3">

    <div title="Probabilidad" class="flex flex-col w-full text-sm relative">
      <button
        class="group h-8 flex items-center justify-between w-full text-left px-2 cursor-pointer
          py-2 border-2 rounded bg-white border-complementary-purple shadow-sm
          hover:bg-gray-50 focus:outline-none"
        (click)="toggleProbabilityMenu()">

        <div class="flex h-min items-center gap-2">
          @if (!currentProbability) {
            <span class="w-12"></span>
          }
          @else {
            <span class=" w-12 {{ currentProbability === 'Alta' ? 'text-red-500' : currentProbability === 'Media' ? 'text-yellow-600' : 'text-green-400' }}">
              {{ currentProbability }}
            </span>
          }
        </div>
        <svg width="10" height="13" viewBox="0 0 11 17" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M9.92546 6L5.68538 1L1.44531 6" stroke="#6B7280" stroke-opacity="0.7" stroke-width="1.5"
          stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M1.44564 11L5.68571 16L9.92578 11" stroke="#6B7280" stroke-opacity="0.7" stroke-width="1.5"
          stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>

      <!-- menú desplegable -->
      @if(openProbabilityMenu){
        <ul class="absolute top-full left-0 w-full z-10 bg-white border border-gray-300 rounded shadow-md mt-1 py-2">
          <li class="px-2 py-2 flex items-center gap-2 text-red-500 hover:bg-gray-background cursor-pointer"
              (click)="changeProbability(2)">Alta</li>
          <li class="px-2 py-2 flex items-center gap-2 text-yellow-600 hover:bg-gray-background cursor-pointer"
              (click)="changeProbability(1)">Media</li>
          <li class="px-2 py-2 flex items-center gap-2 text-green-400 hover:bg-gray-background cursor-pointer"
              (click)="changeProbability(0)">Baja</li>
        </ul>
      }
    </div>

    <div title="Impacto" class="flex flex-col w-full text-sm relative cursor-pointer">
      <button
        class="group h-8 flex items-center justify-between w-full text-left px-2 cursor-pointer
          py-2 border-2 rounded bg-white text-gray-700 border-complementary-purple shadow-sm
          hover:bg-gray-50 focus:outline-none"
        (click)="toggleImpactMenu()">

        <div class="flex h-min items-center gap-2 ">
          @if (!currentImpact) {
            <span class="w-12"></span>
          }
          @else {
            <span class=" w-12 {{ currentImpact === 'Alto' ? 'text-red-500' : currentImpact === 'Medio' ? 'text-yellow-600' : 'text-green-400' }}">
              {{ currentImpact }}
            </span>
          }
        </div>

        <svg width="10" height="13" viewBox="0 0 11 17" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M9.92546 6L5.68538 1L1.44531 6" stroke="#6B7280" stroke-opacity="0.7" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M1.44564 11L5.68571 16L9.92578 11" stroke="#6B7280" stroke-opacity="0.7" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>

      <!-- menú desplegable -->
       @if(openImpactMenu){
         <ul class="absolute top-full left-0 w-full z-10 bg-white border border-gray-300 rounded shadow-md mt-1 py-2">
           <li class="px-2 py-2 flex items-center gap-2 text-red-500 hover:bg-gray-background cursor-pointer"
               (click)="changeImpact(2)">Alto</li>
           <li class="px-2 py-2 flex items-center gap-2 text-yellow-600 hover:bg-gray-background cursor-pointer"
               (click)="changeImpact(1)">Medio</li>
           <li class="px-2 py-2 flex items-center gap-2 text-green-400 hover:bg-gray-background cursor-pointer"
               (click)="changeImpact(0)">Bajo</li>
         </ul>
       }
    </div>

  </nav>
</section>
